# 界面清理更新说明

## 修改概述

本次更新主要进行了两项界面清理工作：
1. **移除商品卡片右上角的销量展示**
2. **移除订单列表中的支付凭证上传功能**

## 具体修改内容

### 1. 商品卡片销量展示移除

#### 1.1 商品列表页面
**修改前：**
- 商品卡片右上角显示销量信息（如"已售328"）
- 根据销量显示不同样式（热销、爆款、新品等）

**修改后：**
- 移除了销量数字显示
- 保留热销标签逻辑（爆款、热销标签仍然显示）
- 简化了商品卡片的视觉元素

#### 1.2 购物车页面
**修改前：**
```html
<div class="cart-item-price">¥5.90 × 2 · 销量328</div>
```

**修改后：**
```html
<div class="cart-item-price">¥5.90 × 2</div>
```

#### 1.3 代码变更
```javascript
// 移除销量显示，保留热销标签逻辑
const salesCount = p.salesCount || 0;
let hotBadgeHtml = '';

// 保留热销标签，但不显示具体销量
if (salesCount >= 500) {
    hotBadgeHtml = '<div class="hot-badge">爆款</div>';
} else if (salesCount >= 100) {
    hotBadgeHtml = '<div class="hot-badge">热销</div>';
}
```

### 2. 订单列表支付凭证上传功能移除

#### 2.1 功能移除
**移除的功能：**
- 未支付订单的支付凭证上传区域
- 文件选择按钮
- 图片预览功能
- 确认提交按钮
- 上传进度显示

#### 2.2 相关函数标记为废弃
以下函数被标记为废弃状态，但保留以避免JavaScript错误：
- `selectVoucherFile(orderId)` - 选择支付凭证文件
- `handleVoucherFileSelect(orderId, inputElement)` - 处理文件选择
- `uploadVoucherImage(orderId, file)` - 上传支付凭证图片
- `showVoucherLoading(orderId, show)` - 显示/隐藏加载状态
- `showVoucherPreview(orderId, imageUrl)` - 显示图片预览
- `confirmPaymentVoucher(orderId)` - 确认提交支付凭证

#### 2.3 订单列表HTML结构变更
**修改前：**
```html
<div style='font-weight:bold;text-align:right;color:#0088cc;font-size:16px;'>
    总计：¥${o.total.toFixed(2)}
</div>
${paymentVoucherSection}  <!-- 支付凭证上传区域 -->
${confirmReceiptButton}
```

**修改后：**
```html
<div style='font-weight:bold;text-align:right;color:#0088cc;font-size:16px;'>
    总计：¥${o.total.toFixed(2)}
</div>
${confirmReceiptButton}
```

### 3. 保留的功能

#### 3.1 商品相关
- **热销标签**：爆款和热销标签仍然显示
- **商品图片**：商品图片显示不受影响
- **价格信息**：商品价格显示正常
- **购物车功能**：添加到购物车功能正常

#### 3.2 订单相关
- **订单基本信息**：订单号、地址、电话等信息正常显示
- **支付状态显示**：支付状态仍然正常显示
- **确认收货功能**：已配送订单的确认收货功能保留
- **支付凭证查看**：如果订单已有支付凭证，仍可查看

#### 3.3 下单流程
- **下单时支付凭证上传**：下单页面的支付凭证上传功能保留
- **付款方式选择**：付款方式选择功能正常
- **货到付款功能**：货到付款功能完全保留

### 4. 用户体验改进

#### 4.1 界面简化
- **商品浏览更简洁**：移除销量数字，减少视觉干扰
- **关注核心信息**：用户更专注于商品本身和价格
- **保留重要标识**：热销和爆款标签仍然帮助用户识别受欢迎商品

#### 4.2 流程优化
- **订单列表更清晰**：移除复杂的上传功能，界面更简洁
- **减少操作步骤**：用户不再需要在订单列表中处理支付凭证
- **统一上传流程**：支付凭证上传统一在下单时完成

### 5. 技术说明

#### 5.1 向后兼容
- 保留了废弃函数，避免JavaScript错误
- 销量数据仍然从后端获取，只是不在前端显示
- 现有订单数据不受影响

#### 5.2 性能优化
- 减少了DOM元素的生成和渲染
- 简化了订单列表的HTML结构
- 移除了不必要的事件监听器

#### 5.3 代码维护
- 清理了不再使用的UI组件
- 简化了渲染逻辑
- 减少了代码复杂度

### 6. 影响评估

#### 6.1 正面影响
- **界面更简洁**：减少了视觉噪音
- **操作更简单**：减少了不必要的功能
- **性能更好**：减少了DOM操作
- **维护更容易**：代码更简洁

#### 6.2 功能变化
- **销量信息**：用户无法在前端看到具体销量数字
- **订单支付凭证**：只能在下单时上传，不能在订单列表中上传

## 总结

这次界面清理主要目标是：
1. **简化用户界面**：移除不必要的信息展示
2. **优化用户体验**：专注于核心功能
3. **统一操作流程**：将支付凭证上传统一到下单环节
4. **提升界面美观度**：减少视觉干扰元素

通过这些修改，应用界面更加简洁清晰，用户可以更专注于商品选择和订单管理的核心功能。 